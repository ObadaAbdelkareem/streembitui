<div id="text-chat-area" style="width:100%; height:100%">
    <div style="padding:10px;text-align:left;">
        <div class="chat-win-header">
            <div style="float:left;font-size:12px;font-weight:bold;color:#555">
                <span id="chatinfo" data-bind="text: lblheader"></span>
            </div>
            <div style="float:right" data-bind="visible: issession">
                <div class="btn-group">
                    <button class="btn btn-primary" data-bind="click: savechat" style="padding:0 10px;font-size:12px">Save Chat History</button>
                    <button class="btn btn-danger" data-bind="click: rmchat" style="padding:0 10px;font-size:12px">Delete Chat History</button>
                </div>
                <button class="btn btn-info" data-bind="click: sendfile" style="padding:0 10px;font-size:12px">Send File</button>
                <button class="btn btn-secondary" data-bind="visible: invite().length,click: showinvite" style="padding:0 10px;font-size:12px">Invite</button>
            </div>
            <div style="clear:both"></div>
        </div>
    </div>
    <div class="fill-area" style="padding:10px;flex:1">
        <div class="chat-fill-area chatitemswnd">
            <table cellspacing="0" cellpadding="0">
                <tbody data-bind="foreach: chatitems">
                    <tr>
                        <td>
                            <div style="padding:6px 10px 0 0">
                                <span data-bind="text: time"></span>
                            </div>
                        </td>
                        <td>
                            <div class="chat-sender" style="padding-top:6px">
                                <img src="/lib/img/me.png" width="32" height="32" data-bind="visible: $parent.isMe(sender)" />
                                <img src="/lib/img/ava_placeholder.png" width="32" height="32" data-bind="visible: $parent.isContactNoAva(sender)" />
                                <img width="32" height="32" data-bind="visible: $parent.isContactWithAva(sender), attr: {src: $parent.contact_avatar}" />
                                <span class="chat-item-sender" data-bind="text: sender, css: { isContactSender: sender != $parent.username() }"></span>:
                            </div>
                        </td>
                        <td>
                            <div class="chat-item-msg" data-bind="css: { myTextMessage: sender == $parent.username() }">
                                <span data-bind="html: text"></span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="footer-chat-controls1">
            <div id="chat_img" data-bind="click: chatimage">
                <img src="/lib/img/chat-img-icon.png" width="20" height="20" alt="">
            </div>
            <div style="width:100%">
                <textarea id="txtChatCtrl" data-bind="value: chatmsg, event: {input: typing}" style="width: 100% !important;height: 75px;margin: 0;resize: none;box-sizing: border-box;background-color: #fff;color: #000;font-size: 12px;"></textarea>
                <div class="contact-is-typing-container">
                    <span class="contact-is-typing" data-bind="text: contact_is_typing"></span>
                </div>
            </div>
            <div style="flex: 0 0 100%;font-size: 11px;justify-content: space-between;align-self: center;width: 100%;display: flex;">
                <button class="btn btn-primary" data-bind="click: sendchat" style="padding:0 10px;font-size:12px;margin:3px auto"><span data-bind="text: btncaption"></span></button>

            </div>
        </div>
    </div>

    <div class="custom-scroll dropdown-design-change choose-invite" data-bind="visible: inviteDialog" style="">
        <ul class="notification-body" data-bind="foreach: invite">
            <li>
                <div>
                    <span class="msg-body" data-bind="text: name, click: $parent.sendinvite"></span>
                </div>
            </li>
        </ul>
    </div>

    <script type="text/html" id="send-file-template">
        <div id="filesend-dlg-container" style="width:450px;padding-bottom:5px;margin:0 auto 10px auto;text-align:left">
            <div style="width:450px" data-bind="visible: isinprogress() == false">
                <input type="file" id="fileInput" name="files" data-bind="event: { change: function() { send_file($element.files[0]) } }" />
            </div>
            <div style="width:450px;margin-top:10px;display:none" data-bind="visible: isinprogress">
                <div style="font-size:12px;color:#666">Send progress: </div>
                <div>
                    <progress id="fileProgress" value="0" max="100" style="width:400px"></progress>
                </div>
            </div>
        </div>
    </script>
</div>


