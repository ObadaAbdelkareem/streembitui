<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us">
<head>
    <meta charset="utf-8" />
    <title>Streembit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <script type="text/javascript">
        var gui = require('nw.gui'); 
        // Get the current window
        var nwwin = gui.Window.get();
        nwwin.maximize();

        window.nwrequire = window.require || (function () {});
        window.require = undefined;

        var streembit = streembit || {};

        streembit.globals = streembit.globals || {};
        streembit.globals.appname = "Streembit";
        streembit.globals.version = "1.1.0";
        streembit.globals.wsprotocol = "http";
        // set this flag for Web mode (i.e. serving the application from a web server) to false
        // nwmode = true indicates the application is using node-webkit
        streembit.globals.nwmode = true;

        streembit.api = streembit.api || {};       

        streembit.notify = streembit.notify || {};
        streembit.activity = streembit.activity || {};

        streembit.ui = streembit.ui || {};
        streembit.ui.load_container = "load-container";
        streembit.ui.load_info = "load-info";

        //  the mainapplication component loaded from the lib/views directory
        //  change this to load another main app
        //  the component must be registered with the lib/viewreg 
        streembit.view = {};
        streembit.view.mainapp = "dashboard";

    </script>

    <!-- Basic Styles -->
    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/font-awesome.min.css">

    <!-- SmartAdmin Styles : Caution! DO NOT change the order -->
    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/smartadmin-production.css">
    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/smartadmin-skins.min.css">

    <!-- SmartAdmin RTL Support  -->
    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/smartadmin-rtl.min.css">


    <link rel="stylesheet" type="text/css" media="screen" href="lib/css/streembit.css">
    <!-- Demo purpose only: goes with demo.js, you can delete this css when designing your own WebApp -->
    <!--<link rel="stylesheet" type="text/css" media="screen" href="lib/css/demo.min.css">-->

    <!-- FAVICONS -->
    <!--<link rel="shortcut icon" href="lib/images/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="lib/images/favicon/favicon.ico" type="image/x-icon">-->

    <!-- GOOGLE FONT -->
    <!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700">-->


    <link rel="apple-touch-icon" href="lib/images/splash/sptouch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="lib/images/splash/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="lib/images/splash/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="lib/images/splash/touch-icon-ipad-retina.png">

    <!-- iOS web-app metas : hides Safari UI Components and Changes Status Bar Appearance -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Startup image for web apps -->
    <link rel="apple-touch-startup-image" href="lib/images/splash/ipad-landscape.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
    <link rel="apple-touch-startup-image" href="lib/images/splash/ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="lib/images/splash/iphone.png" media="screen and (max-device-width: 320px)">

    <style>
        body[data-appinit=true] {
            background: #333;
        }

        body[data-account-load-complete=false] {
            background: #333;
        }

        body[data-account-load-complete=true]{
            background:#fff; 
        }

        body[data-appinit=false] #load-container{
            display:none;
        }
        body[data-appinit=true] #load-container{
            display:block;
        }

        body[data-account-load-complete=false] #main {
            background: #333;
            height:100%;
        }

        body[data-account-load-complete=true] .content-panel {
            background: #fff;
        }

        body[data-account-load-complete=false] #header,
        body[data-account-load-complete=false] #left-panel,
        body[data-account-load-complete=false] #ribbon,
        body[data-account-load-complete=false] .page-footer {
            display: none;
        }

        body[data-appinit=false] #load-container {
            display: none;
        }

        body[data-appinit=true] #load-container {
            display: block;
        }

        body, html {
            margin:0;
            height: 100%;
        }

        /* loader */
        #load-container{
            width:100%;
            height:100%;
        }

        #load-screen{
            width:100%;
            height:100%;
            text-align: center;
            box-sizing: border-box;
            font-family: sans-serif;
            color: rgba(255,255, 255, 0.8);
            font-size:5em;
            display:flex;
            flex-direction:column;
            justify-content:center;
            align-items:center;
        }

        .load-box {
            display: inline-block;
            border: none;
            position: relative;
            vertical-align: top;
            -webkit-transition: .3s color, .3s border, .3s transform, .3s opacity;
            transition: .3s color, .3s border, .3s transform, .3s opacity;
        }

        .load-text{
            font-size:20px;
            font-weight:bold;
            text-align:center;
            margin-top:20px;
        }

        @-webkit-keyframes pulse {	
          50% { 
            background: rgb(255,255,255);
          } 
        }

        @keyframes pulse {	
          50% { 
            background: rgb(255,255,255);
          } 
        }


        @-webkit-keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        .loading {
            border-radius: 50%;
            width: 1em;
            height: 1em;
            border: 1.4rem solid rgba(255,255,255, 0.2);
            border-top-color: #fff;
            animation: spin 1s infinite linear;
        }
        /* loader */


        .jqstooltip {
            position: absolute;
            left: 0px;
            top: 0px;
            visibility: hidden;
            background: rgb(0, 0, 0) transparent;
            background-color: rgba(0,0,0,0.6);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
            -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
            color: white;
            font: 10px arial, san serif;
            text-align: left;
            white-space: nowrap;
            padding: 5px;
            border: 1px solid white;
            z-index: 10000;
        }

        .jqsfield {
            color: white;
            font: 10px arial, san serif;
            text-align: left;
        }
    </style>

</head>

<body data-appinit="true" data-account-load-complete="false">

    <div id="load-container">
        <div id="load-screen">
            <div class="load-box">
                <div class="loading"></div>
            </div>
            <div id="load-info" class="load-text">
                Loading Streembit ...
            </div>
        </div>
    </div>

    <div id="app-container">

        <!-- HEADER -->
        <header id="header" style="flex: 0 0 49px">
            <div id="logo-group">

                <!-- PLACE YOUR LOGO HERE -->
                <span id="logo" style="font-weight: bold;padding-top: 4px;"> STREEMBIT </span>
                <!-- END LOGO PLACEHOLDER --> 
                
                <div style="display:block;margin:0;padding:0" data-bind="component: {name: 'activity'}">

                </div>           
            </div>

            <!-- activity dropdown -->
            <!--<div class="hidden-xs">
                

            </div>-->
            <!-- end activity dropdown -->

            <!-- pulled right: nav area -->
            <div class="pull-right">

                <!-- collapse menu button -->
                <div id="hide-menu" class="btn-header pull-right">
                    <span> <a href="javascript:void(0);" data-action="toggleMenu" title="Collapse Menu"><i class="fa fa-reorder"></i></a> </span>
                </div>
                <!-- end collapse menu -->

                <!-- multiple lang dropdown : find all flags in the flags page -->
                <ul class="header-dropdown-list hidden-xs">
                    <li>
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <img src="lib/images/blank.gif" class="flag flag-gb" alt="United Kingdom"> <span> English </span> <i class="fa fa-angle-down"></i> </a>
                        <ul class="dropdown-menu pull-right">
                            <li class="active">
                                <a href="javascript:void(0);"><img src="lib/images/blank.gif" class="flag flag-gb" alt="United Kingdom"> English</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);"><img src="lib/images/blank.gif" class="flag flag-fr" alt="France"> Fran&ccedil;ais</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);"><img src="lib/images/blank.gif" class="flag flag-es" alt="Spanish"> Espa&ntilde;ol</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);"><img src="lib/images/blank.gif" class="flag flag-de" alt="German"> Deutsch</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);"><img src="lib/images/blank.gif" class="flag flag-it" alt="Italy"> Italiano</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- end multiple lang -->

            </div>
            <!-- end pulled right: nav area -->

        </header>
        <!-- END HEADER -->
        
        <section style="flex: 1 0 auto;display: flex;flex-direction: row">

            <!-- Left panel : Navigation area -->
            <!-- Note: This width of the aside area can be adjusted through LESS variables -->
            <aside id="left-panel" style="flex: 0 0 220px;">
                <!-- User info -->
                <div class="login-info">
                    <span>
                        <!-- User image size is adjusted inside CSS, it should stay as it -->
                        <a href="javascript:void(0);" id="show-shortcut" data-action="toggleShortcut">
                            <span data-bind="text: user_name" style="padding-top:4px">
                            </span>
                            <i class="fa fa-angle-down" style="padding-top:5px"></i>
                        </a>

                    </span>
                </div>
                <!-- end user info -->
                <!-- NAVIGATION : This navigation is also responsive-->
                <nav>
                    <ul>
                        <li class="active">
                            <a href="#" title="Dashboard" data-bind="click: nav.bind($data, 'dashboard')"><i class="fa fa-lg fa-fw fa-home"></i> <span class="menu-item-parent">Dashboard</span></a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-signal"></i> <span class="menu-item-parent">IOT Devices</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'devices')">My devices</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'addiothub')">Create IoT Hub </a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-server"></i> <span class="menu-item-parent">Actions</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'connectpublic')">Initialize existing account</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'connectpublic')">Connect to network</a></li>-->
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click:restoreAccount">Restore account</a></li>
                                <li><a href="#" data-bind="click:backupAccount">Backup account</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'changepassword')">Change passphrase</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'enrollinit')">Create a certificate</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-money"></i> <span class="menu-item-parent">Wallet</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'audio-call')">My Wallet</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'video-call')">Blockchain explorer</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'wallet')">Ankit's Wallet</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-phone"></i> <span class="menu-item-parent">Communicate</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'audio-call')">Audio call</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'video-call')">Video Call</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'sendfile')">Send file</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, '')">Chat</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-cube"></i> <span class="menu-item-parent">Decentralized Apps</span></a>
                            <ul>
                                <!-- here goes the application list -->
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'enrollinit')">Find an application</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-group"></i> <span class="menu-item-parent">Contacts</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'ndareceived')">My contacts</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click: offline_contact_request">Create offline contact offer</a></li>
                                <li><a href="#" data-bind="click: accept_contact_request">Add contact</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click:backupContacts">Backup contacts to file</a></li>
                                <li><a href="#" data-bind="click:restoreContacts">Restore contacts from file</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-cogs"></i> <span class="menu-item-parent">Tools</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'settings')">Settings</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'netinfo')">Account/network info</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'logs')">View Logs</a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" data-bind="click:clearDatabase">Clear Database</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-lg fa-fw fa-lock"></i> <span class="menu-item-parent">Security</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'certificates')">Certificates</a></li>
                                <li><a href="#" data-bind="click: nav.bind($data, 'commsecurity')">Communication security</a></li>
                            </ul>
                        </li>
                        <li class="chat-users top-menu-invisible">
                            <a href="#"><i class="fa fa-lg fa-fw fa-question-circle"></i> <span class="menu-item-parent">Help</span></a>
                            <ul>
                                <li><a href="#" data-bind="click: nav.bind($data, 'help')">Help Content</a></li>
                                <li role="separator" class="divider"></li>
                                <!-- ko if: streembit.globals.nwmode == true -->
                                <li><a href="#" data-bind="click:checkUpdates">Check software updates</a></li>
                                <li role="separator" class="divider"></li>
                                <!-- /ko -->
                                <li><a href="#" data-bind="click:about">About</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>

            </aside>
            <!-- END NAVIGATION -->
            <!-- MAIN PANEL -->
            <div style="flex:1">

                <!-- RIBBON -->
                <div id="ribbon" class="main_ribbon_header">
                    <!-- breadcrumb -->
                    <div class="breadcrumb">
                    </div>
                    <!-- end breadcrumb -->
                </div>
                <!-- END RIBBON -->
                <!-- MAIN CONTENT -->
                <div class="content-panel" data-bind="component: { name: route().page, params: route().params }">
                </div>
                <!-- END MAIN CONTENT -->

            </div>
            <!-- END MAIN PANEL --> 

        </section>

        
        
        <!-- PAGE FOOTER -->
        <div class="page-footer" style="flex: 0 0 52px">
            <div class="row">
                <div class="col-xs-6 col-sm-6 text-right hidden-xs">
                    <div class="txt-color-white inline-block">
                        <i class="txt-color-blueLight hidden-mobile">Last account activity ...</i>
                        <div class="btn-group dropup">
                            <button class="btn btn-xs dropdown-toggle bg-color-blue txt-color-white" data-toggle="dropdown">
                                <i class="fa fa-link"></i> <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu pull-right text-left">
                                <li>
                                    <div class="padding-5">
                                        <p class="txt-color-darken font-sm no-margin">Download Progress</p>
                                        <div class="progress progress-micro no-margin">
                                            <div class="progress-bar progress-bar-success" style="width: 50%;"></div>
                                        </div>
                                    </div>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="padding-5">
                                        <p class="txt-color-darken font-sm no-margin">Server Load</p>
                                        <div class="progress progress-micro no-margin">
                                            <div class="progress-bar progress-bar-success" style="width: 20%;"></div>
                                        </div>
                                    </div>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="padding-5">
                                        <p class="txt-color-darken font-sm no-margin">Memory Load <span class="text-danger">*critical*</span></p>
                                        <div class="progress progress-micro no-margin">
                                            <div class="progress-bar progress-bar-danger" style="width: 70%;"></div>
                                        </div>
                                    </div>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="padding-5">
                                        <button class="btn btn-block btn-default">refresh</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END PAGE FOOTER -->

        <!-- SHORTCUT AREA : With large tiles (activated via clicking user name tag) Note: These tiles are completely responsive, you can add as many as you like  -->
        <div id="shortcut">
            <ul>
                <li>
                    <a href="calendar.html" class="jarvismetro-tile big-cubes bg-color-orangeDark"> <span class="iconbox"> <i class="fa fa-signal fa-4x"></i> <span>IoT Devices</span> </span> </a>
                </li>
                <li>
                    <a href="gmap-xml.html" class="jarvismetro-tile big-cubes bg-color-purple"> <span class="iconbox"> <i class="fa fa-group fa-4x"></i> <span>Contacts</span> </span> </a>
                </li>
                <li>
                    <a href="invoice.html" class="jarvismetro-tile big-cubes bg-color-blueDark"> <span class="iconbox"> <i class="fa fa-money  fa-4x"></i> <span>Wallett</span> </span> </a>
                </li>
                <li>
                    <a href="inbox.html" class="jarvismetro-tile big-cubes bg-color-blue"> <span class="iconbox"> <i class="fa fa-headphones fa-4x"></i> <span>Call </span> </span> </a>
                </li>
                <li>
                    <a href="profile.html" class="jarvismetro-tile big-cubes bg-color-pinkDark"> <span class="iconbox"> <i class="fa fa-cogs fa-4x"></i> <span>Settings </span> </span> </a>
                </li>
            </ul>
        </div>
        <!-- END SHORTCUT AREA -->

    </div>   

    <script src="lib/js/libs/jquery-2.1.1.min.js"></script>
    <script src="lib/js/libs/jquery-ui-1.10.3.min.js"></script>

    <script src="lib/js/app.config.js"></script>
    <script src="lib/js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script>
    <script src="lib/js/bootstrap/bootstrap.js"></script>
    <script src="lib/js/notification/SmartNotification.min.js"></script>  
    <script src="lib/js/smartwidgets/jarvis.widget.min.js"></script>
    <script src="lib/js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js"></script>
    <script src="lib/js/plugin/sparkline/jquery.sparkline.min.js"></script>
    <script src="lib/js/plugin/jquery-validate/jquery.validate.min.js"></script>
    <script src="lib/js/plugin/masked-input/jquery.maskedinput.min.js"></script>
    <script src="lib/js/plugin/select2/select2.min.js"></script>
    <script src="lib/js/plugin/bootstrap-slider/bootstrap-slider.min.js"></script>
    <script src="lib/js/plugin/msie-fix/jquery.mb.browser.min.js"></script>
    <script src="lib/js/plugin/fastclick/fastclick.min.js"></script>
    <script src="lib/js/app.js"></script>

    <script src="lib/js/plugin/vectormap/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="lib/js/plugin/vectormap/jquery-jvectormap-world-mill-en.js"></script>

    <script src="lib/js/plugin/bootbox/bootbox.min.js"></script>
    <script src="lib/js/plugin/blockui/jquery.blockUI.js"></script>
    <script src="lib/js/plugin/knockout/knockout-3.4.2.js"></script>
    <script src="lib/js/plugin/knockout/knockout.mapping.js"></script>
    <script src="lib/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

    <script src="jspm_packages/system.js"></script>
    <script src="config.js"></script>

    <audio id="ringsound1" src="lib/assets/sounds/ringsound.ogg" preload="auto" type="audio/ogg" muted loop></audio>

    <script>
        $(document).ready(function() {
            pageSetUp();      
            System.import('lib/main.js');
        });
    </script>
    
    <script type="text/html" id="empty-template">
        <div class="emptydiv"></div>
    </script>    

</body>
</html>
